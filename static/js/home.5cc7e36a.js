(this["webpackJsonparknights-gateway"]=this["webpackJsonparknights-gateway"]||[]).push([[2],{45:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(43),l=a(42),r=a.n(l),m=a(44),s=a.n(m),o=a(8),u=a(55),h=function(e){setTimeout((function(){window.open(e)}),500)};a(45);var f=Object(o.b)((function(e){return{side:e.home.side,url:e.home.side.url,fight:e.home.side.fight}}))((function(e){var t=Object(n.useState)(new Date),a=Object(c.a)(t,2),l=a[0],m=a[1],o=Object(n.useRef)(null),f=null,d=null;return Object(u.a)((function(){o.current&&(d=new r.a(o.current)),f=setInterval((function(){m(new Date)}),1e3)}),(function(){d&&d.destroy(),f&&clearInterval(f)})),i.a.createElement("aside",{className:"home-side"},i.a.createElement("div",{className:"event",ref:o},i.a.createElement("div",{className:"home-side-parallax","data-depth":"0.5"},i.a.createElement("div",{className:"home-side-content"},i.a.createElement("div",{className:"home-side-time"},i.a.createElement("div",{className:"time-battery"}),i.a.createElement("span",{className:"time-text"},s()(l).format("YYYY-MM-DD HH:mm:ss"))),i.a.createElement("ul",{className:"home-side-assets"},i.a.createElement("li",null,i.a.createElement("span",{className:"assets-icon money"}),i.a.createElement("span",{className:"assets-text"},e.side.money)),i.a.createElement("li",null,i.a.createElement("span",{className:"assets-icon gem"}),i.a.createElement("span",{className:"assets-text"},e.side.gem)),i.a.createElement("li",null,i.a.createElement("span",{className:"assets-icon stone"}),i.a.createElement("span",{className:"assets-text"},e.side.stone))),i.a.createElement("div",{className:"home-side-row row-first"},i.a.createElement("ul",{className:"home-side-item item-fight",onClick:function(){return h(e.url.chapter)}},i.a.createElement("li",{className:"fight-info"},i.a.createElement("p",{className:"primary"},e.fight.num),i.a.createElement("p",{className:"sub"},e.fight.reason)),i.a.createElement("li",{className:"fight-content"},i.a.createElement("p",{className:"item-title"},e.fight.title),i.a.createElement("p",{className:"item-tag"},e.fight.current),i.a.createElement("p",null,e.fight.chapter),i.a.createElement("div",{className:"item-icon"})))),i.a.createElement("ul",{className:"home-side-row row-sub"},i.a.createElement("li",{className:"home-side-item item-row1-col1",onClick:function(){return h(e.url.team)}},i.a.createElement("p",{className:"item-title"},e.fight.team),i.a.createElement("div",{className:"item-icon"})),i.a.createElement("li",{className:"home-side-item item-row1-col2",onClick:function(){return h(e.url.member)}},i.a.createElement("p",{className:"item-title"},e.fight.players),i.a.createElement("div",{className:"item-icon"})),i.a.createElement("li",{className:"home-side-black-gap"})),i.a.createElement("ul",{className:"home-side-row row-primary"},i.a.createElement("li",{className:"home-side-item item-blue item-title-end item-row2-col1",onClick:function(){return h(e.url.shop)}},i.a.createElement("p",{className:"item-title"},e.fight.shop),i.a.createElement("div",{className:"item-icon"})),i.a.createElement("li",{className:"home-side-item item-blue item-multi"},i.a.createElement("p",{className:"item-name"},i.a.createElement("span",{className:"item-icon"}),i.a.createElement("span",null,e.fight.recruit)),i.a.createElement("div",{className:"item-multi-content"},i.a.createElement("div",{className:"item-multi-item item-row2-col2",onClick:function(){return h(e.url.recruit)}},i.a.createElement("p",{className:"item-multi-title"},e.fight.openRecruit),i.a.createElement("div",{className:"item-icon"})),i.a.createElement("div",{className:"item-multi-item item-row2-col3",onClick:function(){return h(e.url.search)}},i.a.createElement("p",{className:"item-multi-title"},e.fight.search),i.a.createElement("div",{className:"item-icon"}))))),i.a.createElement("ul",{className:"home-side-row row-end"},i.a.createElement("li",{className:"home-side-item item-row3-col1",onClick:function(){return h(e.url.task)}},i.a.createElement("p",{className:"item-title"},e.fight.task),i.a.createElement("div",{className:"item-icon"})),i.a.createElement("li",{className:"home-side-item item-row3-col2",onClick:function(){return h(e.url.base)}},i.a.createElement("p",{className:"item-title"},e.fight.base),i.a.createElement("div",{className:"item-icon"})),i.a.createElement("li",{className:"home-side-item item-end item-row3-col3",onClick:function(){return h(e.url.warehouse)}},i.a.createElement("p",{className:"item-title"},e.fight.warehouse),i.a.createElement("div",{className:"item-icon"})))))))})),d=a(46),E=a(47),v=(a(48),a(18)),N=function(){function e(t){Object(d.a)(this,e),this.ctx=null,this.width=0,this.height=0,this.maxPointLength=1,this.safeMaxPointLength=30,this.maxTimer=null,this.points=[],this.colors=["#fff","#000"],this.width=window.innerWidth,this.height=window.innerHeight,t.width=this.width,t.height=this.height,this.ctx=t.getContext("2d"),this.loopDraw(),this.graduallyMaxPointLength()}return Object(E.a)(e,[{key:"createPoint",value:function(){var e=this.width,t=this.height,a=this.points,n=this.colors,i=this.maxPointLength;if(a.length<i){var c={x:e,y:Object(v.b)(1,t),xa:-Object(v.a)(1,5),ya:-Object(v.a)(-3,3),size:Object(v.b)(2,5),color:n[Object(v.b)(0,1)]};a.push(c)}}},{key:"clearPoint",value:function(){for(var e=this.points,t=0;t<e.length;t++){var a=e[t];(a.x<0||a.y<0)&&(e.splice(t,1),t-=1)}}},{key:"draw",value:function(){var e=this.points,t=this.ctx,a=this.width,n=this.height;t.clearRect(0,0,a,n),e.forEach((function(e){e.x+=e.xa,e.y+=e.ya,t.fillStyle=e.color,t.fillRect(e.x,e.y,e.size,e.size)}))}},{key:"loopDraw",value:function(){var e=this;this.clearPoint(),this.createPoint(),this.draw(),requestAnimationFrame((function(){e.loopDraw()}))}},{key:"graduallyMaxPointLength",value:function(){var e=this;this.maxTimer&&clearInterval(this.maxTimer),this.maxTimer=setInterval((function(){e.maxPointLength<e.safeMaxPointLength?e.maxPointLength+=1:e.maxTimer&&clearInterval(e.maxTimer)}),500)}}]),e}(),p=function(){var e=Object(n.useRef)(null),t=null,a=function(){t=null,t=new N(e.current)};return Object(u.a)((function(){e.current&&(t=new N(e.current)),Object(v.c)(a)}),(function(){(t=null).maxTimer&&clearInterval(t.maxTimer)})),i.a.createElement("div",{className:"dust"},i.a.createElement("canvas",{ref:e}))};a(49);var g=Object(o.b)((function(e){return{images:e.home.slider.images}}))((function(e){var t=e.images,a=Object(n.useState)(0),l=Object(c.a)(a,2),r=l[0],m=l[1],s=null;return Object(u.a)((function(){s=setInterval((function(){m((function(e){return e<t.length-1?e+1:0}))}),5e3)}),(function(){s&&clearInterval(s)})),i.a.createElement("div",{className:"home-slider"},i.a.createElement("div",{className:"home-slider-content"},i.a.createElement("ul",{className:"content-main",style:{transform:"translateX(".concat(-330*r,"px)")}},t.map((function(e){return i.a.createElement("li",{className:"content-item",key:e.src},i.a.createElement("img",{src:e.src,alt:""}))})))),i.a.createElement("ul",{className:"home-slider-indicator"},t.map((function(e,t){return i.a.createElement("li",{className:"indicator-item ".concat(t===r&&"active"),key:e.src})}))))})),b=(a(50),a(11)),w=a.n(b),x=(a(51),function(e){return i.a.createElement("div",{className:"confirm"},i.a.createElement("div",{className:"confirm-content"},i.a.createElement("div",{className:"confirm-msg"},e.children),i.a.createElement("footer",null,i.a.createElement("button",{className:"confirm-cancel btn",onClick:e.onCancel},i.a.createElement("i",{className:"iconfont icon-close"})),i.a.createElement("button",{className:"confirm-confirm btn",onClick:e.onConfirm},i.a.createElement("i",{className:"iconfont icon-check"})))))}),y=(a(52),[]),k=function(e){return i.a.createElement("div",{style:{top:e.top+"px"},className:"message ".concat(e.type)},i.a.createElement("i",{className:"message-icon iconfont icon-circle-".concat(e.type)}),e.children)},C=function(e){return e.children[0]},j=function(e,t,a){var n=window.document.createElement("div");document.body.appendChild(n);var c={top:0,offsetHeight:0,element:n},l=y.slice(-1)[0],r=l?l.top+l.offsetHeight:100;return c.top=r,w.a.render(i.a.createElement(k,{top:c.top,type:t},e),n,(function(){var e=C(n);e&&(c.offsetHeight=e.offsetHeight+16)})),c.timer=setTimeout((function(){c.close&&c.close()}),a),c.remove=function(){c.timer&&clearTimeout(c.timer),w.a.unmountComponentAtNode(n),document.body.removeChild(n);var e=y.findIndex((function(e){return e.element===n}));y.splice(e,1)},c.close=function(){C(n).classList.add("hide");for(var e=y.findIndex((function(e){return e.element===n}))+1;e<y.length;e++){var t=y[e],a=C(t.element);t.top-=c.offsetHeight,a.style.top=t.top+"px"}setTimeout((function(){c.remove&&c.remove()}),300)},y.push(c),c};var O=Object(o.b)((function(e){return{banner:e.home.banner,url:e.home.banner.url}}))((function(e){var t=Object(n.useRef)(null),a=null;return Object(u.a)((function(){a=new r.a(t.current)}),(function(){a.destroy()})),i.a.createElement("div",{className:"home-banner event"},i.a.createElement("header",{className:"home-banner-header"},i.a.createElement("i",{className:"iconfont icon-github btn",onClick:function(){var t;(t=i.a.createElement("div",{className:"(o\uff9fv\uff9f)\u30ce"},i.a.createElement("p",null,"\u73b0\u5728\u8981\u8df3\u8f6c\u5230\u672c\u9879\u76ee\u7684 ",i.a.createElement("i",{className:"iconfont icon-github"})," github \u6e90\u7801!"),i.a.createElement("p",null,"\u786e\u5b9a\u5417\uff1f(o\uff9fv\uff9f)\u30ce")),new Promise((function(e,a){var n=window.document.createElement("div");document.body.appendChild(n);var c=function(){w.a.unmountComponentAtNode(n),document.body.removeChild(n)};w.a.render(i.a.createElement(x,{onConfirm:function(){e(),c()},onCancel:function(){a(),c()}},t),n)}))).then((function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;j(e,"info",t)}("\u611f\u8c22\u4f60\u7684\u652f\u6301\uff01"),setTimeout((function(){h(e.url.github)}),1500)}),(function(){}))}}),i.a.createElement("i",{className:"iconfont icon-wordpress btn",onClick:function(){return h(e.url.wordpress)}})),i.a.createElement("main",{ref:t},i.a.createElement("div",{className:"home-banner-parallax","data-depth":"0.3"},i.a.createElement("div",{className:"home-banner-parallax-content"},i.a.createElement("div",{className:"home-voice"},e.banner.text),i.a.createElement("div",{className:"home-banner-content"},i.a.createElement(g,null),i.a.createElement("div",{className:"content-right"},i.a.createElement("div",{className:"friends",onClick:function(){return h(e.url.friend)}},i.a.createElement("div",{className:"icon"}),i.a.createElement("span",null,e.banner.friend)),i.a.createElement("div",{className:"infomation",onClick:function(){return h(e.url.information)}},i.a.createElement("div",{className:"icon"}),i.a.createElement("span",null,e.banner.information))))))))}));a(53);t.default=Object(o.b)((function(e){return{num:e.home.num,text:e.home.text,name:e.home.name,description:e.home.description}}))((function(e){return n.createElement("div",{className:"home"},n.createElement("section",{className:"home-user"},n.createElement("div",{className:"home-user-level"},n.createElement("span",{className:"level-num"},e.num,n.createElement("span",{className:"level-text"},e.text)),n.createElement("svg",{width:"110",height:"110"},n.createElement("circle",{cx:"55",cy:"55",r:"50",strokeWidth:"4",stroke:"rgba(255, 255, 255, .2)",fill:"none"}),n.createElement("circle",{cx:"55",cy:"55",r:"50",strokeWidth:"4",stroke:"#fe2",fill:"none",transform:"matrix(0,-1,1,0,0,110)",strokeDasharray:"200 314"}))),n.createElement("div",{className:"home-user-account"},n.createElement("p",{className:"account-name"},e.name),n.createElement("p",{className:"account-id"},e.description))),n.createElement(p,null),n.createElement(O,null),n.createElement(f,null))}))}}]);